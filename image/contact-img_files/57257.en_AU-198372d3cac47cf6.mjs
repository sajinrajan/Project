"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[57257],{705533:(e,t,n)=>{var l;n.r(t),n.d(t,{default:()=>s});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DebugSignalsFeedback_pin",selections:[{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debAds",plural:!0,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iconUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalMessage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debContentQuality",plural:!0,selections:l,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debInclusiveProduct",plural:!0,selections:l,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debShopping",plural:!0,selections:l,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debTrustAndSafety",plural:!0,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};i.hash="06530ceab8fc1bb7b5d868c8ffeb2afd";let s=i},343902:(e,t,n)=>{n.d(t,{N:()=>a,Z:()=>s});var l=n(883119),i=n(785893);function s({children:e,fullWidth:t}){return(0,i.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:e})}function a({children:e,enabled:t}){return t?(0,i.jsx)(s,{children:e}):e}},259866:(e,t,n)=>{n.d(t,{Z:()=>l});function l(e){return function e(t,n){let l;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let i=n.find(e=>e.value===t);if(i)return i.result;let s=Object.prototype.toString.call(t);switch(s){case"[object Array]":l=Array(t.length);break;case"[object Set]":l=new Set;break;case"[object Object]":case"[object Arguments]":l={};break;case"[object Map]":l=new Map;break;default:return t}let a=[...n,{value:t,result:l}];switch(s){case"[object Array]":t.forEach((t,n)=>{l[n]=e(t,a)});break;case"[object Set]":t.forEach(t=>{l.add(e(t,a))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,n])=>{l[t]=e(n,a)});break;case"[object Map]":t.forEach((t,n)=>{l.set(n,e(t,a))})}return l}(e,[])}},891162:(e,t,n)=>{n.d(t,{Q6:()=>u,ZP:()=>o,qe:()=>c,yU:()=>d});var l=n(520893);let i=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),s=e=>e;function a(e,t=i,n=s){return function(l){let i=[];return function(...s){let a=i.find(e=>t(e.args,n(s)));if(a)return a.result;let r=l(...s);return i.push({args:n(s),result:r}),e&&i.length>e&&i.shift(),r}}}let r=a(),o=r,c=a(1),d=a(void 0,i,e=>[JSON.stringify(e)]),u=a(0,(e,t)=>e.length===t.length&&e.every((e,n)=>(0,l.Z)(e,t[n])))},361747:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(883119),i=n(140017),s=n(785893);function a({height:e,isDenseView:t,rounding:n,width:a,color:r}){let o=(0,i.ZP)();return(0,s.jsx)(l.xu,{alignItems:"center",color:r||"default","data-test-id":"unavailable-pin",display:"flex",height:e,justifyContent:"center",overflow:"hidden",position:"relative",rounding:n,width:a,children:(0,s.jsxs)(l.kC,{alignItems:"center",direction:"column",children:[(0,s.jsx)(l.xu,{paddingY:t?2:4,children:(0,s.jsx)(l.JO,{accessibilityLabel:o.bt("Pin not available", "Pin not available", "story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel", undefined, true),color:"default",icon:"alert",size:20})}),(0,s.jsx)(l.xv,{weight:"bold",children:o.bt("Unavailable", "Unavailable", "story-pin.Closeup.UnavailableIdeaPin.Unavailable", undefined, true)}),!t&&(0,s.jsx)(l.xu,{paddingY:1,children:(0,s.jsx)(l.xv,{children:o.bt("Removed by the creator", "Removed by the creator", "story-pin.Closeup.UnavailableIdeaPin.Removed", undefined, true)})})]})})}},477458:(e,t,n)=>{n.d(t,{Z:()=>a,q:()=>s});var l=n(667294);let i=()=>{let[e,t]=(0,l.useState)(!1),[n,i]=(0,l.useState)(!1),[s,a]=(0,l.useState)(!1);return{active:e,focused:n,hovered:s,onBlur:()=>{i(!1),t(!1)},onFocus:()=>i(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>{a(!1),t(!1)},onMouseUp:()=>t(!1)}};function s({children:e}){let t=i();return e(t)}let a=i},156032:(e,t,n)=>{n.d(t,{Z:()=>A});var l,i=n(667294);n(167912);var s=n(616550),a=n(883119),r=n(510989),o=n(207012),c=n(343902),d=n(608516),u=n(477458),h=n(149722),g=n(785893);let _=({signal:e,anchor:t,setShowFlyout:n,setStore:l})=>{let{hovered:i,onMouseEnter:s,onMouseLeave:r}=(0,u.Z)(),o=e=>{n(e=>!e),l(e)};return(0,g.jsx)(a.iP,{onMouseEnter:s,onMouseLeave:r,onTap:()=>o(e),rounding:"pill",children:(0,g.jsxs)(a.xu,{ref:t,alignItems:"center",color:i?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,g.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,minWidth:24,rounding:"circle",children:(0,g.jsx)(a.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,g.jsx)(a.Ee,{alt:"",color:e.backgroundColor??"",naturalHeight:1,naturalWidth:1,src:e.iconUrl??""})})}),(0,g.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:e.signalMessage})]})})};var x=n(107366),p=n(140017),f=n(13848),j=n(454514);function b(e){let t=(0,p.ZP)(),{onHide:n}=e,l=(0,g.jsx)(a.xv,{children:t.bt("Thank you for helping improve signal detection on Pinterest.", "Thank you for helping improve signal detection on Pinterest!", "pinRep.actionBar.signalDetector.toast", undefined, true)});return(0,g.jsx)(j.ZP,{onHide:n,text:l})}let m=function({anchor:e,onDismiss:t,pinId:n,signal:l}){let i=(0,p.ZP)(),s=(0,h.Z)(),{showOneToast:r}=(0,f.F9)();if(!s.isEmployee)return null;let{backgroundColor:o,iconUrl:c,signalId:d,signalMessage:u}=l;return(0,g.jsx)(a.mh,{children:(0,g.jsx)(a.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,g.jsxs)(a.xu,{padding:4,width:"100%",children:[(0,g.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,g.jsx)(a.X6,{size:"400",children:i.bt("Signal detected:", "Signal detected:", "pinRep.actionBar.signalDetector.header", undefined, true)})}),(0,g.jsx)(a.xu,{paddingY:3,children:(0,g.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,g.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:c?(0,g.jsx)(a.Ee,{alt:i.bt("Signal display", "Signal display", "pinRep.actionBar.signalDetector.signalAsset", undefined, true),color:"white",naturalHeight:1,naturalWidth:1,src:c}):(0,g.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:o??""}},height:40,width:40})}),(0,g.jsx)(a.xv,{size:"200",children:u})]})}),(0,g.jsx)(a.xu,{marginBottom:3,children:(0,g.jsx)(a.xv,{size:"200",children:i.bt("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.", "If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.", "pinRep.actionBar.signalDetector.instructions", undefined, true)})}),(0,g.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,g.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,x.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:d,user:s.id}}),t(),r(({hideToast:e})=>(0,g.jsx)(b,{onHide:e}))},size:"md",text:i.bt("Send for review", "Send for review", "pinRep.actionBar.signalDetector.button.review", undefined, true)}),(0,g.jsx)(a.zx,{color:"gray",fullWidth:!0,onClick:t,size:"md",text:i.bt("Cancel", "Cancel", "pinRep.actionBar.signalDetector.button.cancel", undefined, true)})]})]})})})};function y({signals:e,pinId:t}){let[n,l]=(0,i.useState)(!1),s=(0,i.useRef)(null),[o,u]=(0,i.useState)(e[0]);return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(r.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,g.jsx)(d.Z,{children:(0,g.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,g.jsx)(c.Z,{children:(0,g.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:e.map(e=>(0,g.jsx)(a.xu,{marginEnd:2,children:(0,g.jsx)(_,{anchor:s,setShowFlyout:l,setStore:u,signal:e})},e.signalId))})})})})}),n&&(0,g.jsx)(m,{anchor:s.current,onDismiss:()=>l(!1),pinId:t,signal:o})]})}let v=function({anchor:e,onDismiss:t,pinId:n,signals:l}){let s=(0,p.ZP)(),[r,o]=(0,i.useState)(0),c=(0,h.Z)(),{showOneToast:d}=(0,f.F9)();if(!c.isEmployee)return null;let u=l.map(({signalMessage:e})=>({href:"#",text:e??""})),{backgroundColor:_,iconUrl:j,signalId:m,signalMessage:y}=l[r],v=({activeTabIndex:e})=>{o(e)};return(0,g.jsx)(a.mh,{children:(0,g.jsx)(a.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,g.jsxs)(a.xu,{padding:4,width:"100%",children:[l.length>1&&(0,g.jsx)(a.xu,{marginBottom:4,overflow:"scrollX",padding:1,children:(0,g.jsx)(a.mQ,{activeTabIndex:r,onChange:({event:e,activeTabIndex:t,dangerouslyDisableOnNavigation:n})=>{e.preventDefault(),n(),v({activeTabIndex:t})},tabs:u})}),(0,g.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,g.jsx)(a.X6,{size:"400",children:s.bt("Signal detected:", "Signal detected:", "pinRep.actionBar.signalDetector.header", undefined, true)})}),(0,g.jsx)(a.xu,{paddingY:3,children:(0,g.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,g.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:j?(0,g.jsx)(a.Ee,{alt:s.bt("Signal display", "Signal display", "pinRep.actionBar.signalDetector.signalAsset", undefined, true),color:"white",naturalHeight:1,naturalWidth:1,src:j}):(0,g.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:_??""}},height:40,width:40})}),(0,g.jsx)(a.xv,{size:"200",children:y})]})}),(0,g.jsx)(a.xu,{marginBottom:3,children:(0,g.jsx)(a.xv,{size:"200",children:s.bt("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.", "If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.", "pinRep.actionBar.signalDetector.instructions", undefined, true)})}),(0,g.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,g.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,x.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:m,user:c.id}}),t(),d(({hideToast:e})=>(0,g.jsx)(b,{onHide:e}))},size:"md",text:s.bt("Send for review", "Send for review", "pinRep.actionBar.signalDetector.button.review", undefined, true)}),(0,g.jsx)(a.zx,{color:"gray",fullWidth:!0,onClick:t,size:"md",text:s.bt("Cancel", "Cancel", "pinRep.actionBar.signalDetector.button.cancel", undefined, true)})]})]})})})},P=void 0!==l?l:l=n(705533);function w({signals:e,pinId:t}){let{backgroundColor:n,iconUrl:l,signalMessage:s}=e[0],[o,h]=(0,i.useState)(!1),_=(0,i.useRef)();return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(r.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,g.jsx)(d.Z,{children:(0,g.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,g.jsx)(c.Z,{children:(0,g.jsx)(u.q,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>(0,g.jsx)(a.iP,{onMouseEnter:t,onMouseLeave:i,onTap:()=>h(e=>!e),rounding:"pill",children:(0,g.jsxs)(a.xu,{ref:_,alignItems:"center",color:e?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,g.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,rounding:"circle",width:24,children:(0,g.jsx)(a.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,g.jsx)(a.Ee,{alt:"",color:n??"",naturalHeight:1,naturalWidth:1,src:l??""})})}),(0,g.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:s})]})})})})})})}),o&&_&&_.current&&(0,g.jsx)(v,{anchor:_.current,onDismiss:()=>h(!1),pinId:t,signals:e})]})}function A({pinKey:e}){let t=(0,o.Z)(P,e),n=(0,h.Z)(),{search:l}=(0,s.TH)(),a=(0,i.useMemo)(()=>new URLSearchParams(l),[l]);if(!n.isEmployee)return null;let{entityId:r,debAds:c,debContentQuality:d,debInclusiveProduct:u,debShopping:_,debTrustAndSafety:x}=t;if(c)return(0,g.jsx)(w,{pinId:r,signals:c});if(d)return(0,g.jsx)(w,{pinId:r,signals:d});if(u){if("skin_tone"===a.get("type")){let e=u.filter(e=>"visual_signals_hair_pattern_v1"!==e.signalId);return(0,g.jsx)(y,{pinId:r,signals:e})}{let e=u.filter(e=>"visual_body_analyses_v2_0"!==e.signalId);return(0,g.jsx)(y,{pinId:r,signals:e})}}return _?(0,g.jsx)(w,{pinId:r,signals:_}):x?(0,g.jsx)(w,{pinId:r,signals:x}):null}},923368:(e,t,n)=>{n.d(t,{Nb:()=>r,Of:()=>o,YO:()=>a,ZP:()=>u,x4:()=>d});var l=n(667294),i=n(891162),s=n(392029);let a=({showProductDetailPage:e,isLargerPane:t,showCloseupContentRight:n})=>e&&t?n?s.Uj:s.zT:1,r=(0,i.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showProductDetailPage:l,viewportSize:i,maxWidth:s,descriptionPaneWidth:a,isCloseupRelatedPinsAboveTheFoldEnabled:r,isCommentThreadExpanded:o,isPinNoteExpanded:c,isProductDetailsExpanded:d,isShoppingModuleExpanded:u,setIsCommentThreadExpanded:h,setIsPinNoteExpanded:g,setIsProductDetailsExpanded:_,setIsShoppingModuleExpanded:x,stackedCloseupEnabled:p,isInRemoveMagnifyingGlassVariant:f,setAbortNoActionPlacementTimeout:j})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showProductDetailPage:l,viewportSize:i,maxWidth:s,descriptionPaneWidth:a,isCloseupRelatedPinsAboveTheFoldEnabled:r,isCommentThreadExpanded:o,isPinNoteExpanded:c,isProductDetailsExpanded:d,isShoppingModuleExpanded:u,setIsCommentThreadExpanded:h,setIsPinNoteExpanded:g,setIsProductDetailsExpanded:_,setIsShoppingModuleExpanded:x,stackedCloseupEnabled:p,isInRemoveMagnifyingGlassVariant:f,setAbortNoActionPlacementTimeout:j})),o={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:s.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:s.u6,descriptionPaneWidth:s.u6-s.Gg,isCloseupRelatedPinsAboveTheFoldEnabled:!1,isCommentThreadExpanded:!1,isPinNoteExpanded:!1,isShoppingModuleExpanded:!1,stackedCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1,setAbortNoActionPlacementTimeout:()=>{},setIsShoppingModuleExpanded:()=>{}},c=(0,l.createContext)(o);function d(){let e=(0,l.useContext)(c);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let u=c},392029:(e,t,n)=>{n.d(t,{$T:()=>b,CI:()=>a,Ch:()=>o,ER:()=>j,Gb:()=>c,Gg:()=>i,Hf:()=>w,Ie:()=>_,J6:()=>g,KP:()=>x,Kn:()=>r,O5:()=>m,Uj:()=>d,YE:()=>y,bx:()=>p,cg:()=>v,d2:()=>h,g9:()=>f,iB:()=>A,rv:()=>P,u6:()=>s,zT:()=>u});var l=n(883119);let i=508,s=2*i,a=488,r=992,o=672,c=1176,d=.6,u=.84,h=40,g=16,_=72,x=740,p=912,f=32,j=16,b=24,m=2,y=16,v=16,P=1,w=new l.Ry(5),A={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},678525:(e,t,n)=>{n.d(t,{CU:()=>r,GH:()=>d,Iw:()=>c,gA:()=>u,tD:()=>o,vF:()=>h});let l=({index:e,numberOfSlides:t,slidesShownPerPosition:n})=>t-e-Math.floor(n)<1,i=({slidesShownPerPosition:e,slotAndGapWidth:t})=>{let n=e-parseInt(e,10);return t-n*t},s=({containerWidth:e,contentWidth:t,index:n,slotAndGapWidth:l})=>{let i=n-1,a=i*l;return t-a>=e?a:s({index:i,slotAndGapWidth:l,containerWidth:e,contentWidth:t})},a=({containerWidth:e,contentWidth:t,gap:n,index:l,slidesShownPerPosition:a,slotAndGapWidth:r,paddingX:o})=>{let c=s({containerWidth:e,contentWidth:t,index:l,slotAndGapWidth:r}),d=i({slidesShownPerPosition:a,slotAndGapWidth:r});return c+d-n+(o?2*o:0)},r=({containerWidth:e,gap:t,index:n,numberOfSlides:i,slotWidth:s,paddingX:r})=>{let o=s+t,c=o*i;if(c<=e)return 0;let d=e/o,u=l({index:n,numberOfSlides:i,slidesShownPerPosition:d}),h=u?a({containerWidth:e,contentWidth:c,gap:t,index:n,slidesShownPerPosition:d,slotAndGapWidth:o,paddingX:r}):n*o;return h?Math.round(-h):0},o=({containerWidth:e,gap:t,index:n,numberOfSlides:l,slotWidth:i})=>{let s=i+t,a=s*l;if(0===e)return!1;if(a<=e)return!0;let o=r({containerWidth:e,gap:t,index:n,numberOfSlides:l,slotWidth:i}),c=a-e;return Math.abs(o)+t>=c},c=({containerWidth:e,currentIndex:t,gap:n,index:l,numberOfSlides:i,slotWidth:s})=>{let a=s+n,o=a*i;if(o<=e||0===e)return!0;let c=r({containerWidth:e,gap:n,index:t,numberOfSlides:i,slotWidth:s});return c+a*l<e+a},d=(e,t,n)=>e||`${t.bt("carousel image", "carousel image", "Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed", undefined, true)} ${n}`,u=({highResOnly:e,lowResOnly:t,slot:n})=>{let{images:l}=n;return t?`${l?.["236x"]?.url??""} 1x`:e?`${l?.["564x"]?.url??""} 1x`:[l?.["474x"]&&`${l["474x"].url??""} 2x`,l?.["736x"]&&`${l["736x"].url??""} 3x`,l?.orig&&`${l.orig.url??""} 4x`].filter(Boolean).join(", ")},h=(e,t,n,l,i=0)=>{if(n===t)return-(l*t*1);let s=t+i;return l===e-1?-1*l*s+Math.floor(n-t):-1*l*s}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/57257.en_AU-198372d3cac47cf6.mjs.map